(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{71:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment",function(){return t(9223)}])},3834:function(e,n,t){"use strict";t.d(n,{EE:function(){return p},KZ:function(){return s},Nq:function(){return l},Xd:function(){return i},eZ:function(){return c},ec:function(){return m},no:function(){return d},nu:function(){return r}});var a=t(8785),o=t.n(a);let i={slidesPerView:8.25,spaceBetween:12,loop:!0,loopAddBlankSlides:!0,navigation:!0},l={slidesPerView:1,navigation:!0},r={slidesPerView:3,spaceBetween:1,loop:!0,loopAddBlankSlides:!0},s={slidesPerView:11.5,spaceBetween:1,loop:!0,loopAddBlankSlides:!0},c={slidesPerView:2.25,spaceBetween:1,loop:!0,loopAddBlankSlides:!0,className:o().anuncioSlider},d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"80%",width:"75%",height:"75%",bgcolor:"white",border:"2px solid #000",boxShadow:24,p:4,display:"flex",flexDirection:"row",alignItems:"center"},p={marginTop:3,display:"flex",minWidth:650,maxWidth:700,minHeight:350,maxHeight:500,alignItems:"center",justifyContent:"center"},m={marginTop:3,display:"flex",width:"30%",minHeight:250,alignItems:"center",justifyContent:"center"}},9223:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return B},default:function(){return I}});var a=t(5893),o=t(4769),i=t.n(o),l=t(6242),r=t(4267),s=t(5861),c=t(3852),d=t(2660),p=t(7294),m=t(8901);let u=e=>(0,a.jsxs)("svg",{...e,stroke:"currentColor",fill:"none","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),h=e=>(0,a.jsxs)("svg",{...e,stroke:"currentColor",fill:"none","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),(0,a.jsx)("polyline",{points:"13 2 13 9 20 9"})]});var x=t(4132),g=t(1108),f=t(7421);let j=()=>{let{files:e,setFiles:n}=(0,g.B)();console.log("Fotos upadas: "),console.log(e);let t=(0,p.useCallback)(e=>{n(n=>[...n,...e]),console.log(e)},[n]),o=(0,m.uI)({onDrop:t,accept:{"application/pdf":[".pdf"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/gif":[".gif"],"image/bmp":[".bmp"],"image/webp":[".webp"]},disabled:e.length>=5});return(0,a.jsx)(y,{dropzone:o,files:e})},y=e=>{let{dropzone:n,files:t}=e,{setFiles:o}=(0,g.B)(),{t:i}=(0,f.$G)("global"),{getRootProps:l,getInputProps:r,isDragActive:s}=n;return(0,a.jsxs)("div",{...l(),className:"custom-dropzone ".concat(s?"is-drag-active":""),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"10px",borderRadius:"4px",backgroundColor:s?"#f0f0f0":"#ffffff",cursor:"pointer",opacity:t.length>=5?.5:1},children:[(0,a.jsx)("input",{...r(),className:"hidden"}),(0,a.jsx)(x.Z,{sx:{fontSize:75,color:s?"blue":"gray"}}),s?(0,a.jsx)("p",{className:"font-bold text-lg text-blue",children:"Solte para adicionar"}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:"mb-2 text-lg text-gray",children:(0,a.jsx)("span",{className:"font-bold",children:i("descCamera")})})}),t.map((e,n)=>(0,a.jsx)(b,{file:e,removeFile:e=>o(n=>n.filter(n=>n!==e))},n))]})},b=e=>{let{file:n}=e,{setFiles:t}=(0,g.B)(),o=(0,p.useCallback)(e=>{t(n=>n.filter(n=>n!==e))},[t]);return(0,a.jsx)("div",{className:"custom-hasfile",style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px",border:"2px dashed #ccc",borderRadius:"4px",backgroundColor:"#f0f0f0"},children:(0,a.jsxs)("div",{className:"file-details",children:[(0,a.jsx)(h,{className:"icons"}),(0,a.jsx)("span",{className:"file-name",style:{marginLeft:"10px"},children:n.name}),(0,a.jsx)("button",{type:"button",onClick:()=>o(n),className:"close-button",style:{marginLeft:"10px"},children:(0,a.jsx)(u,{className:"icons"})})]})})};var w=t(9417),v=t(1163),C=t(5491),_=t(5121);let k=_.Z.create({baseURL:"https://latinas-photos-back.onrender.com",headers:{"Content-Type":"application/json"}});async function N(e,n){let t=JSON.parse(sessionStorage.getItem("formData")||"{}");console.log(t);let a=new FormData;a.append("email",t.email),a.append("nome",t.name),a.append("telefone",t.telefone),a.append("nomeImage",t.nomeImage),a.append("descricao",t.descricao),a.append("tags",t.tags),a.append("planoId",(t.planoId+1).toString()),a.append("stripeCustomer",e);for(let e=0;e<n.length;e++)0==e?a.append("file",n[e]):1==e?a.append("file2",n[e]):2==e?a.append("file3",n[e]):3==e?a.append("file4",n[e]):4==e&&a.append("file5",n[e]);try{return await k.post("user/create",a,{headers:{"Content-Type":"multipart/form-data"}}),!0}catch(e){return console.log(e),!1}}async function S(e){console.log(e);try{let n=await _.Z.post("/api/checkout",{priceId:e}),{checkoutUrl:t,checkoutId:a,customerId:o}=n.data;return console.log(o),{url:t,id:a,customerId:o}}catch(e){alert("Falha ao redirecionar para o checkout: "+e)}}var Z=t(3834),B=!0;function I(e){let{products:n}=e;console.log(n);let[t,o]=(0,p.useState)([]),{t:m}=(0,f.$G)("global"),[u,h]=(0,p.useState)(4),[x,y]=(0,p.useState)(""),[b,_]=(0,p.useState)(""),[k,B]=(0,p.useState)(0),I=()=>B(e=>e-1);(0,v.useRouter)();let{files:P,setFiles:T}=(0,g.B)(),[E,F]=(0,p.useState)(""),[D,V]=(0,p.useState)(""),[G,z]=(0,p.useState)(""),[A,X]=(0,p.useState)(""),[H,J]=(0,p.useState)(""),[L,M]=(0,p.useState)("");async function O(e){e.preventDefault(),sessionStorage.setItem("formData",JSON.stringify({email:E,name:D,telefone:H,nomeImage:G,descricao:A,planoId:4!=n.length?u+1:0==u?4:u}));let t=async()=>{let e=await S(b),n=null==e?void 0:e.customerId;console.log(n);let t=await N(n,P);!0==t&&(window.location.href=null==e?void 0:e.url)};t()}return(0,a.jsxs)("div",{className:i().body,children:[0==k&&(0,a.jsxs)("div",{className:i().bodyPayment,children:[(0,a.jsx)("div",{className:i().stepper,children:(0,a.jsx)(C.Me,{size:2,currentStep:1})}),(0,a.jsx)("h1",{children:m("pagamentoTitulo")}),(0,a.jsx)("h2",{children:m("pagamentoSubtitulo")}),(0,a.jsxs)("div",{className:i().boxPaymentContainer,children:[(0,a.jsx)(l.Z,{sx:Z.ec,children:(0,a.jsx)(r.Z,{children:(0,a.jsx)("form",{children:(0,a.jsx)(j,{})})})}),(0,a.jsx)(l.Z,{sx:Z.ec,children:(0,a.jsxs)(r.Z,{sx:{alignItems:"space-between",justifyContent:"center",display:"flex",flexDirection:"column"},children:[(0,a.jsx)(s.Z,{gutterBottom:!0,variant:"h4",children:m("descFotoTitulo")}),(0,a.jsx)(c.Z,{id:"imgDescription",label:m("descFotoForm"),placeholder:"Foto tirada em uma montanha...",multiline:!0,onChange:e=>X(e.target.value)}),(0,a.jsx)(c.Z,{id:"phoneNumber",label:m("phone"),placeholder:"",multiline:!0,onChange:e=>J(e.target.value)})]})})]}),(0,a.jsx)("div",{className:i().plansContainer,children:n.map((e,n)=>(0,a.jsx)(l.Z,{className:"".concat(i().planCard," ").concat(i().hoverGray," ").concat(u===n?i().selectedPlan:""),onClick:t=>{t.preventDefault(),h(n),y(e.title),_(e.defaultPriceId),console.log(u)},children:(0,a.jsx)(d.Z,{children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(s.Z,{gutterBottom:!0,variant:"h5",component:"div",children:e.title}),(0,a.jsx)(s.Z,{gutterBottom:!0,variant:"body2",component:"div",children:e.description}),(0,a.jsx)(s.Z,{variant:"h6",color:"text.secondary",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.price)})]})})},e.id))}),(0,a.jsxs)("div",{className:i().buttonContainer,children:[(0,a.jsx)(w.Z,{variant:"contained",onClick:I,sx:{marginTop:3,marginBottom:3,width:"10rem",height:"4rem",background:"#5cb85c",color:"white"},children:m("botaoVoltar")}),(0,a.jsx)(w.Z,{variant:"contained",onClick:()=>B(e=>e+1),sx:{marginTop:3,marginBottom:3,width:"10rem",height:"4rem",background:"#5cb85c",color:"white"},children:m("botaoProximo")})]})]})," ",1==k&&(0,a.jsxs)("div",{className:"bodyPayment",children:[(0,a.jsx)("div",{className:i().stepper,children:(0,a.jsx)(C.Me,{size:2,currentStep:2})}),(0,a.jsx)("h1",{children:m("pagamentoTitulo2")}),(0,a.jsx)("div",{children:(0,a.jsx)(l.Z,{sx:Z.EE,children:(0,a.jsxs)(r.Z,{sx:{alignItems:"space-between",justifyContent:"center",display:"flex",flexDirection:"column"},children:[(0,a.jsx)(s.Z,{gutterBottom:!0,variant:"h4"}),(0,a.jsx)(c.Z,{id:"name",label:m("nome"),placeholder:"Silva...",multiline:!0,sx:{width:"120%"},onChange:e=>V(e.target.value)}),(0,a.jsx)(c.Z,{id:"email",label:m("email"),placeholder:"exemplo@exemplo.com",multiline:!0,sx:{marginTop:3,width:"120%"},onChange:e=>F(e.target.value)}),(0,a.jsx)(c.Z,{id:"imgName",label:m("nomeFoto"),placeholder:"Gran canyon..",multiline:!0,sx:{marginTop:3,width:"120%"},onChange:e=>z(e.target.value)})]})})}),(0,a.jsxs)("div",{className:i().buttonContainer,children:[(0,a.jsx)(w.Z,{variant:"contained",onClick:I,sx:{marginTop:3,marginBottom:3,width:"10rem",height:"4rem",background:"#5cb85c",color:"white"},children:m("botaoVoltar")}),(0,a.jsx)(w.Z,{variant:"contained",onClick:e=>{O(e)},sx:{marginTop:3,marginBottom:3,width:"10rem",height:"4rem",background:"#5cb85c",color:"white"},children:m("botaoEnviar")})]})]})]})}},8785:function(e){e.exports={anuncioSlider:"styles_anuncioSlider__inaeu"}},4769:function(e){e.exports={boxPaymentContainer:"payment_boxPaymentContainer__ULXkV",plansContainer:"payment_plansContainer__hkCkE",planCard:"payment_planCard__GGo0n",selectedPlan:"payment_selectedPlan__xEJa1",hoverGray:"payment_hoverGray__dAqEC",stepper:"payment_stepper__650TE",buttonContainer:"payment_buttonContainer__4dFiA",body:"payment_body__TQCXM",bodyPayment:"payment_bodyPayment__1BgJi"}}},function(e){e.O(0,[360,849,774,888,179],function(){return e(e.s=71)}),_N_E=e.O()}]);